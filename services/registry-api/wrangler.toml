# Cloudflare Workers configuration for registry.deepractice.dev
name = "registry-api"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# Custom domain (configure in Cloudflare Dashboard after deployment)
# routes = [{ pattern = "registry.deepractice.dev/*", zone_name = "deepractice.dev" }]

# D1 Database for manifest and index
[[d1_databases]]
binding = "DB"
database_name = "registry"
database_id = "placeholder-create-with-wrangler-d1-create"

# R2 Bucket for archive storage
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "registry-archives"

# Environment variables
[vars]
ENVIRONMENT = "production"
